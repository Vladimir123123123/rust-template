using UnityEngine;

private readonly struct DistanceCache
{
	public readonly float distanceToTargetSq;

	public readonly int lastFrameDistanceUpdated;

	public readonly BaseEntity target;

	public DistanceCache(BaseEntity self, BaseEntity target)
	{
		this.target = target;
		distanceToTargetSq = Vector3.SqrMagnitude(target.transform.position - self.transform.position);
		lastFrameDistanceUpdated = Time.frameCount;
	}

	public bool IsCacheStale(BaseEntity currentTarget)
	{
		if (lastFrameDistanceUpdated == Time.frameCount)
		{
			return target != currentTarget;
		}
		return true;
	}
}
