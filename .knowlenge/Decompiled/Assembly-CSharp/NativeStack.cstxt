using System;
using Unity.Collections;
using Unity.Mathematics;

private struct NativeStack : IDisposable
{
	public NativeList<int3> arr;

	public NativeStack(Allocator allocator)
	{
		arr = new NativeList<int3>(allocator);
	}

	public void Dispose()
	{
		arr.Dispose();
	}

	public void Push(int3 v)
	{
		arr.Add(in v);
	}

	public bool TryPop(out int3 v)
	{
		v = default(int3);
		if (arr.Length == 0)
		{
			return false;
		}
		v = arr[arr.Length - 1];
		arr.RemoveAtSwapBack(arr.Length - 1);
		return true;
	}
}
