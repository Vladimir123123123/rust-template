using System.Collections.Generic;
using Facepunch;
using Facepunch.Ping;

internal class PingEstimateResults : IPingEstimateResults
{
	private Dictionary<StringView, PingRegionResult> regions = new Dictionary<StringView, PingRegionResult>();

	public PingEstimateResults(IReadOnlyCollection<PingSample> samples)
	{
		foreach (PingSample sample in samples)
		{
			regions[sample.Region.Code] = new PingRegionResult
			{
				Ping = sample.Value,
				RegionCode = sample.Region.Code,
				RegionShortname = sample.Region.Shortname
			};
		}
	}

	public IPingRegionResult GetRegionByCode(StringView code)
	{
		return regions.GetValueOrDefault(code);
	}

	public IEnumerable<IPingRegionResult> GetAllRegions()
	{
		return regions.Values;
	}
}
