using System.Runtime.CompilerServices;
using Unity.Collections;
using Unity.Collections.LowLevel.Unsafe;

public static class BurstUtil
{
	[MethodImpl(MethodImplOptions.AggressiveInlining)]
	public unsafe static ref readonly T GetReadonly<T>(this in NativeArray<T> array, int index) where T : unmanaged
	{
		T* unsafeReadOnlyPtr = (T*)array.GetUnsafeReadOnlyPtr();
		return ref unsafeReadOnlyPtr[index];
	}

	[MethodImpl(MethodImplOptions.AggressiveInlining)]
	public unsafe static ref T Get<T>(this in NativeArray<T> array, int index) where T : unmanaged
	{
		T* unsafePtr = (T*)array.GetUnsafePtr();
		return ref unsafePtr[index];
	}
}
