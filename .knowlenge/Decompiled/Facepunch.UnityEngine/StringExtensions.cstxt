using System;
using Facepunch.Extend;
using UnityEngine;

public static class StringExtensions
{
	public static string BBCodeToUnity(this string x)
	{
		x = x.Replace("[", "<");
		x = x.Replace("]", ">");
		return x;
	}

	public static Vector3 ToVector3(this string str)
	{
		Vector3 result = default(Vector3);
		string[] array = str.Trim('(', ')', ' ').Replace(",", " ").Split(new char[1] { ' ' }, StringSplitOptions.RemoveEmptyEntries);
		if (array.Length != 3)
		{
			return result;
		}
		result.x = array[0].ToFloat();
		result.y = array[1].ToFloat();
		result.z = array[2].ToFloat();
		return result;
	}

	public static Color ToColor(this string str)
	{
		Color result = new Color(1f, 1f, 1f, 1f);
		string[] array = str.Split(',');
		if (array.Length != 3 && array.Length != 4)
		{
			return result;
		}
		result.r = array[0].ToFloat();
		result.g = array[1].ToFloat();
		result.b = array[2].ToFloat();
		if (array.Length == 4)
		{
			result.a = array[3].ToFloat();
		}
		return result;
	}
}
